@echo off
chcp 65001 >nul

echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo   ğŸª KingStore - Full Import (×ª×•×§×Ÿ!)
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo ×ª×”×œ×™×š ×–×”:
echo   1. ××¢×‘×“ ××ª ×›×œ ×§×‘×¦×™ KingStore XML (366 ×§×‘×¦×™×)
echo   2. ××–×”×” ××•×¦×¨×™× ×–×”×™× ×œ×¤×™ ×‘×¨×§×•×“ ××•×˜×•××˜×™×ª!
echo   3. ××•×¦×¨ ××—×“ = ××—×™×¨×™× ×××¡×¤×¨ ×¡× ×™×¤×™× âœ…
echo.
echo ×œ× ×¦×¨×™×š ××™×—×•×“ ××—×¨×™ - ×¢×•×‘×“ ××”×ª×—×œ×” × ×›×•×Ÿ!
echo.
echo ×–×” ×™×›×•×œ ×œ×§×—×ª 10-15 ×“×§×•×ª...
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
pause

cd /d "%~dp0\..\.."

echo.
echo ×©×œ×‘ 1/3: ××¢×‘×“ ×§×‘×¦×™ XML...
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

REM Check if Docker is running
docker ps >nul 2>&1
if errorlevel 1 (
    echo âŒ Docker ×œ× ×¨×¥!
    echo.
    echo ×¤×ª×¨×•× ×•×ª:
    echo   1. ×”×¤×¢×œ Docker Desktop
    echo   2. ××• ×”×¨×¥: START-DOCKER.bat
    pause
    exit /b 1
)

echo ××¨×™×¥ ×“×¨×š Docker (×›×œ ×”×—×‘×™×œ×•×ª ××•×ª×§× ×•×ª)...
docker-compose exec -T api python /app/backend/scripts/kingstore_xml_processor.py /app/backend/data/kingstore

if errorlevel 1 (
    echo.
    echo âŒ ×©×’×™××” ×‘×¢×™×‘×•×“ ×§×‘×¦×™ XML
    pause
    exit /b 1
)

echo.
echo ×©×œ×‘ 2/3: ×‘×•×“×§ ××¦×‘ × ×ª×•× ×™×...
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

docker cp scripts\database\check_kingstore.py gogobe-api-1:/app/check_kingstore.py
docker-compose exec -T api python /app/check_kingstore.py

echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo   âœ… ×”×•×©×œ×!
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo ×¢×›×©×™×• ×ª×•×›×œ ×œ×¨××•×ª ××•×¦×¨×™× ××©×•×ª×¤×™× ×‘×™×Ÿ ×¡× ×™×¤×™×!
echo ×¤×ª×— ××ª ×”××ª×¨: http://localhost:8000
echo.
pause

