<!DOCTYPE html>
<html dir="rtl" lang="he">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gogobe - ××‘ ××•×¦×¨: ×”×¤×˜× ×˜ ×©×œ ×”××¢×¨×›×ª</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f7fa;
            line-height: 1.6;
        }

        .header {
            background: linear-gradient(135deg, #7c3aed 0%, #5b21b6 100%);
            color: white;
            padding: 40px 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 36px;
            margin-bottom: 10px;
        }

        .header .subtitle {
            font-size: 20px;
            opacity: 0.9;
        }

        .patent-badge {
            background: #fbbf24;
            color: #78350f;
            padding: 10px 20px;
            border-radius: 25px;
            display: inline-block;
            margin-top: 15px;
            font-weight: bold;
            font-size: 18px;
        }

        .nav {
            background: white;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .nav a {
            padding: 8px 16px;
            background: #7c3aed;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.3s;
        }

        .nav a:hover {
            background: #5b21b6;
            transform: translateY(-2px);
        }

        .nav a.active {
            background: #5b21b6;
        }

        .container {
            max-width: 1400px;
            margin: 30px auto;
            padding: 0 20px;
        }

        .hero-section {
            background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(124, 58, 237, 0.2);
            border: 3px solid #7c3aed;
        }

        .hero-section h2 {
            font-size: 32px;
            color: #7c3aed;
            margin-bottom: 20px;
        }

        .hero-section .big-text {
            font-size: 24px;
            color: #333;
            margin-bottom: 20px;
            line-height: 1.8;
        }

        .section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        .section h2 {
            font-size: 28px;
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #7c3aed;
        }

        .problem-solution {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }

        .problem-box {
            background: #fee2e2;
            border-right: 5px solid #dc2626;
            padding: 25px;
            border-radius: 15px;
        }

        .problem-box h3 {
            color: #dc2626;
            font-size: 24px;
            margin-bottom: 20px;
        }

        .solution-box {
            background: #d1fae5;
            border-right: 5px solid #10b981;
            padding: 25px;
            border-radius: 15px;
        }

        .solution-box h3 {
            color: #10b981;
            font-size: 24px;
            margin-bottom: 20px;
        }

        .example-box {
            background: #f3e8ff;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            border-right: 5px solid #7c3aed;
        }

        .example-box h4 {
            color: #7c3aed;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .product-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            border: 2px solid #e5e7eb;
        }

        .product-card.master {
            border-color: #fbbf24;
            background: #fffbeb;
        }

        .product-card .name {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .product-card .details {
            font-size: 13px;
            color: #666;
        }

        .flow-diagram {
            background: #1e293b;
            color: #e2e8f0;
            padding: 30px;
            border-radius: 15px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            white-space: pre;
            direction: ltr;
            text-align: left;
            margin: 20px 0;
        }

        .strategy-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .strategy-card {
            background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%);
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #7c3aed;
        }

        .strategy-card .number {
            background: #7c3aed;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .strategy-card h3 {
            color: #7c3aed;
            margin-bottom: 15px;
        }

        .strategy-card .success-rate {
            background: #10b981;
            color: white;
            padding: 5px 15px;
            border-radius: 15px;
            display: inline-block;
            font-weight: bold;
            margin-top: 10px;
        }

        .code-block {
            background: #1e293b;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            overflow-x: auto;
            direction: ltr;
            text-align: left;
            margin: 15px 0;
        }

        .highlight-box {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border: 3px solid #f59e0b;
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
        }

        .highlight-box h3 {
            color: #f59e0b;
            font-size: 24px;
            margin-bottom: 15px;
        }

        .stats-row {
            display: flex;
            gap: 20px;
            margin: 20px 0;
        }

        .stat-box {
            flex: 1;
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border: 2px solid #7c3aed;
        }

        .stat-box .number {
            font-size: 48px;
            font-weight: bold;
            color: #7c3aed;
            margin-bottom: 10px;
        }

        .stat-box .label {
            color: #666;
            font-size: 14px;
        }
    </style>
</head>

<body>
    <div class="header">
        <h1>ğŸ‘‘ ××‘ ××•×¦×¨ (Master Product)</h1>
        <div class="subtitle">×”×œ×‘ ×©×œ ×”××¢×¨×›×ª - ×”×¤×˜× ×˜ ×©×œ Gogobe</div>
        <div class="patent-badge">ğŸ† ×”×˜×›× ×•×œ×•×’×™×” ×”××¨×›×–×™×ª</div>
    </div>

    <div class="nav">
        <a href="index.html">ğŸ  ×“×£ ×”×‘×™×ª</a>
        <a href="master-product.html" class="active">ğŸ‘‘ ××‘ ××•×¦×¨</a>
        <a href="price-flow.html">ğŸ’° ×–×¨×™××ª ××—×™×¨×™×</a>
        <a href="implementation.html">ğŸ—ºï¸ ×ª×›× ×™×ª ×™×™×©×•×</a>
        <a href="categories.html">ğŸ—‚ï¸ ×§×˜×’×•×¨×™×•×ª</a>
        <a href="microservices-documentation.html">ğŸ”§ Microservices</a>
    </div>

    <div class="container">
        <!-- Hero -->
        <div class="hero-section">
            <h2>ğŸ¯ ×œ××” ××‘ ××•×¦×¨ ×”×•× ×”×›×œ?</h2>
            <div class="big-text">
                <strong>×‘×œ×™ ××‘ ××•×¦×¨ - ××™×Ÿ ×”×©×•×•××ª ××—×™×¨×™× ×’×œ×•×‘×œ×™×ª!</strong><br>
                ×–×” ×”×¤×˜× ×˜ ×©×××¤×©×¨ ×œ× ×• ×œ×”×©×•×•×ª ××—×™×¨×™× ×©×œ ××•×ª×• ××•×¦×¨ ×‘×™×Ÿ ××“×™× ×•×ª, ×¨×©×ª×•×ª, ×•×—× ×•×™×•×ª ×©×•× ×•×ª.
            </div>

            <div class="stats-row">
                <div class="stat-box">
                    <div class="number">1</div>
                    <div class="label">××‘ ××•×¦×¨</div>
                </div>
                <div class="stat-box">
                    <div class="number">100+</div>
                    <div class="label">×•×¨×™×× ×˜×™× ××–×•×¨×™×™×</div>
                </div>
                <div class="stat-box">
                    <div class="number">1000+</div>
                    <div class="label">××—×™×¨×™×</div>
                </div>
                <div class="stat-box">
                    <div class="number">4</div>
                    <div class="label">××“×™× ×•×ª</div>
                </div>
            </div>
        </div>

        <!-- Problem & Solution -->
        <div class="section">
            <h2>â“ ×”×‘×¢×™×” ×•×”×¤×ª×¨×•×Ÿ</h2>

            <div class="problem-solution">
                <div class="problem-box">
                    <h3>âŒ ×”×‘×¢×™×”</h3>
                    <p style="margin-bottom: 15px; font-size: 16px;">
                        ××•×ª×• ××•×¦×¨ ××•×¤×™×¢ ×‘×©××•×ª ×©×•× ×™× ×‘×›×œ ××“×™× ×”:
                    </p>
                    <div class="product-card">
                        <div class="name">ğŸ‡®ğŸ‡± ×™×©×¨××œ: ×—×œ×‘ ×ª× ×•×‘×” 3% 1 ×œ×™×˜×¨</div>
                        <div class="details">×‘×¨×§×•×“: 7290000000001</div>
                    </div>
                    <div class="product-card">
                        <div class="name">ğŸ‡ºğŸ‡¸ ××¨×”"×‘: Tnuva Milk 3% Fat 1L</div>
                        <div class="details">×‘×¨×§×•×“: 7290000000001</div>
                    </div>
                    <div class="product-card">
                        <div class="name">ğŸ‡ªğŸ‡º ××™×¨×•×¤×”: Lait Tnuva 3% MG 1L</div>
                        <div class="details">×‘×¨×§×•×“: 7290000000001</div>
                    </div>
                    <p style="margin-top: 15px; color: #dc2626; font-weight: bold;">
                        â† ××™×š × ×©×•×•×” ×‘×™× ×™×”×?!
                    </p>
                </div>

                <div class="solution-box">
                    <h3>âœ… ×”×¤×ª×¨×•×Ÿ: ××‘ ××•×¦×¨!</h3>
                    <p style="margin-bottom: 15px; font-size: 16px;">
                        ×™×¦×™×¨×ª ×™×©×•×ª ××—×ª ×©×××—×“×ª ××ª ×›×•×œ×:
                    </p>
                    <div class="product-card master">
                        <div class="name">ğŸ‘‘ Master Product</div>
                        <div class="details">
                            <strong>ID:</strong> tnuva-milk-3pct-1l<br>
                            <strong>Brand:</strong> Tnuva<br>
                            <strong>Type:</strong> Milk<br>
                            <strong>Attributes:</strong> {fat: "3%", volume: "1L"}<br>
                            <strong>Global EAN:</strong> 7290000000001
                        </div>
                    </div>
                    <p style="margin-top: 15px; color: #10b981; font-weight: bold;">
                        â† ×›×œ ×”×•×¨×™×× ×˜×™× ××§×•×©×¨×™× ×œ××‘ ××—×“!
                    </p>
                    <div style="margin-top: 15px; padding: 15px; background: white; border-radius: 8px;">
                        <strong>×ª×•×¦××”:</strong><br>
                        â€¢ ×”×©×•×•××ª ××—×™×¨×™× ×’×œ×•×‘×œ×™×ª âœ…<br>
                        â€¢ ××¢×§×‘ ××—×¨ ×”×™×¡×˜×•×¨×™×” âœ…<br>
                        â€¢ × ×™×ª×•×— ×˜×¨× ×“×™× âœ…<br>
                        â€¢ ×”××œ×¦×•×ª ×—×›××•×ª âœ…
                    </div>
                </div>
            </div>
        </div>

        <!-- The Patent -->
        <div class="section">
            <h2>ğŸ† ×”×¤×˜× ×˜: 3 ××¡×˜×¨×˜×’×™×•×ª ××™×–×•×’</h2>

            <div class="highlight-box">
                <h3>ğŸ’¡ ×”×˜×›× ×•×œ×•×’×™×” ×”××¨×›×–×™×ª</h3>
                <p style="font-size: 18px; line-height: 1.8;">
                    ×”××¢×¨×›×ª ××©×ª××©×ª ×‘-<strong>3 ×©×›×‘×•×ª ×—×›××•×ª</strong> ×›×“×™ ×œ×§×©×¨ ××•×¦×¨ ××–×•×¨×™ ×œ××‘ ××•×¦×¨:<br>
                    1ï¸âƒ£ <strong>Barcode Matching</strong> (70% ××”××§×¨×™×) - ××”×™×¨ ×•××“×•×™×§<br>
                    2ï¸âƒ£ <strong>Embedding Similarity</strong> (25% ××”××§×¨×™×) - AI semantic search<br>
                    3ï¸âƒ£ <strong>LLM Creation</strong> (5% ××”××§×¨×™×) - ×™×¦×™×¨×ª ××‘ ××•×¦×¨ ×—×“×©
                </p>
            </div>

            <div class="strategy-grid">
                <!-- Strategy 1 -->
                <div class="strategy-card">
                    <div class="number">1</div>
                    <h3>Barcode Matching</h3>
                    <p>×—×™×¤×•×© ×œ×¤×™ ×‘×¨×§×•×“ ×’×œ×•×‘×œ×™ (EAN/UPC)</p>
                    <div class="code-block" style="font-size: 11px;">SELECT id, master_id, name
                        FROM master_products
                        WHERE global_ean = '7290000000001'
                        LIMIT 1

                        -- Result: master_id = 999
                        -- Time: 10ms âš¡</div>
                    <div class="success-rate">70% Success Rate</div>
                    <p style="margin-top: 10px; font-size: 13px; color: #666;">
                        <strong>×™×ª×¨×•× ×•×ª:</strong> ××”×™×¨, ××“×•×™×§ 100%<br>
                        <strong>×—×¡×¨×•× ×•×ª:</strong> ×¢×•×‘×“ ×¨×§ ×× ×™×© ×‘×¨×§×•×“ ×–×”×”
                    </p>
                </div>

                <!-- Strategy 2 -->
                <div class="strategy-card">
                    <div class="number">2</div>
                    <h3>Embedding Similarity</h3>
                    <p>×—×™×¤×•×© ×¡×× ×˜×™ ×‘×××¦×¢×•×ª AI embeddings</p>
                    <div class="code-block" style="font-size: 11px;">-- Generate embedding
                        embedding = openai.embed("×—×œ×‘ ×ª× ×•×‘×” 3%")

                        -- Search similar (pgvector)
                        SELECT id, name,
                        1 - (embedding <=> $1) as similarity
                            FROM master_products
                            WHERE 1 - (embedding <=> $1) > 0.90
                                ORDER BY similarity DESC
                                LIMIT 1

                                -- Result: similarity = 0.95
                                -- Time: 250ms âœ…</div>
                    <div class="success-rate">25% Success Rate</div>
                    <p style="margin-top: 10px; font-size: 13px; color: #666;">
                        <strong>×™×ª×¨×•× ×•×ª:</strong> ××•×¦× ×”×ª×××•×ª ×’× ×‘×©××•×ª ×©×•× ×™×<br>
                        <strong>×—×¡×¨×•× ×•×ª:</strong> ×™×•×ª×¨ ××™×˜×™, ×“×•×¨×© AI
                    </p>
                </div>

                <!-- Strategy 3 -->
                <div class="strategy-card">
                    <div class="number">3</div>
                    <h3>LLM Creation</h3>
                    <p>×™×¦×™×¨×ª ××‘ ××•×¦×¨ ×—×“×© ×¢× GPT-4</p>
                    <div class="code-block" style="font-size: 11px;">-- LLM extracts attributes
                        {
                        "brand": "Tnuva",
                        "product_type": "Milk",
                        "attributes": {
                        "fat": "3%",
                        "volume": "1L"
                        },
                        "category": "Food > Dairy > Milk"
                        }

                        -- Generate master_id
                        master_id = "tnuva-milk-3pct-1l"

                        -- Create master product
                        INSERT INTO master_products...

                        -- Time: 1250ms âš ï¸</div>
                    <div class="success-rate">5% New Products</div>
                    <p style="margin-top: 10px; font-size: 13px; color: #666;">
                        <strong>×™×ª×¨×•× ×•×ª:</strong> ××˜×¤×œ ×‘××•×¦×¨×™× ×—×“×©×™× ×œ×’××¨×™<br>
                        <strong>×—×¡×¨×•× ×•×ª:</strong> ×™×§×¨ ×•××™×˜×™
                    </p>
                </div>
            </div>
        </div>

        <!-- Full Flow -->
        <div class="section">
            <h2>ğŸ”„ ×ª×”×œ×™×š ××œ×: ××•×¦×¨ ××–×•×¨×™ â†’ ××‘ ××•×¦×¨</h2>

            <div class="flow-diagram">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ INPUT: New Regional Product â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                â”‚ product_id: 54321 â”‚
                â”‚ name: "×—×œ×‘ ×ª× ×•×‘×” 3% 1 ×œ×™×˜×¨" â”‚
                â”‚ barcode: "7290000000001" â”‚
                â”‚ region: "IL" â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ STRATEGY 1: Search by Barcode â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
                SELECT id FROM master_products
                WHERE global_ean = '7290000000001'
                â†“
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ Found? â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                / \
                YES NO
                â†“ â†“
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ MATCH! â”‚ â”‚ STRATEGY 2: Embedding Search â”‚
                â”‚ 70% case â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â†“
                â†“ Generate embedding for name
                â†“ Search similar (>90% confidence)
                â†“ â†“
                â†“ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
                â†“ â”‚ Found? â”‚
                â†“ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“ / \
                â†“ YES NO
                â†“ â†“ â†“
                â†“ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â†“ â”‚ MATCH! â”‚ â”‚ STRATEGY 3: LLM â”‚
                â†“ â”‚ 25% case â”‚ â”‚ Create New â”‚
                â†“ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“ â†“ â†“
                â†“ â†“ Call GPT-4
                â†“ â†“ Extract attributes
                â†“ â†“ Generate master_id
                â†“ â†“ Create master product
                â†“ â†“ â†“
                â†“ â†“ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â†“ â†“ â”‚ CREATED! â”‚
                â†“ â†“ â”‚ 5% case â”‚
                â†“ â†“ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“ â†“ â†“
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ Link Regional Product to Master Product â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
                INSERT INTO product_master_links (
                master_product_id,
                region,
                regional_product_id,
                confidence_score,
                match_method
                ) VALUES (999, 'IL', 54321, 1.0, 'barcode')
                â†“
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ Update ALL Prices for this Product â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
                UPDATE prices
                SET master_product_id = 999
                WHERE product_id = 54321
                â†“
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ OUTPUT: Product Linked! âœ… â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                â”‚ â€¢ Regional product 54321 â†’ Master product 999 â”‚
                â”‚ â€¢ All prices now have master_product_id â”‚
                â”‚ â€¢ Can compare globally! â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</div>
        </div>

        <!-- Database Schema -->
        <div class="section">
            <h2>ğŸ—„ï¸ Database Schema</h2>

            <div class="code-block">-- Master Products (Global)
                CREATE TABLE master_products (
                id BIGSERIAL PRIMARY KEY,
                master_id VARCHAR(200) UNIQUE NOT NULL, -- "tnuva-milk-3pct-1l"
                name VARCHAR(500),
                global_ean VARCHAR(50),
                brand VARCHAR(200),
                category VARCHAR(200),
                attributes JSONB, -- {fat: "3%", volume: "1L"}
                embedding vector(1536), -- For similarity search
                created_at TIMESTAMP DEFAULT NOW()
                );

                -- Product Links (Regional â†’ Master)
                CREATE TABLE product_master_links (
                id BIGSERIAL PRIMARY KEY,
                master_product_id BIGINT REFERENCES master_products(id),
                region VARCHAR(10), -- 'IL', 'US', 'EU', 'ASIA'
                regional_product_id BIGINT, -- ID in regional products table
                confidence_score DECIMAL(3,2), -- 0.90 - 1.00
                match_method VARCHAR(50), -- 'barcode', 'embedding', 'llm'
                created_at TIMESTAMP DEFAULT NOW(),
                UNIQUE(region, regional_product_id)
                );

                -- Global Prices (with Master Product ID)
                CREATE TABLE global_prices (
                time TIMESTAMPTZ NOT NULL,
                master_product_id BIGINT NOT NULL,
                region VARCHAR(10),
                store_id BIGINT,
                price_local DECIMAL(10,2),
                currency_local VARCHAR(3),
                price_usd DECIMAL(10,2),
                exchange_rate DECIMAL(10,6)
                );

                -- Indexes for performance
                CREATE INDEX idx_master_products_ean ON master_products(global_ean);
                CREATE INDEX idx_master_products_embedding ON master_products
                USING ivfflat (embedding vector_cosine_ops);
                CREATE INDEX idx_product_links_master ON product_master_links(master_product_id);
                CREATE INDEX idx_global_prices_master ON global_prices(master_product_id, time DESC);</div>
        </div>

        <!-- Real Example -->
        <div class="section">
            <h2>ğŸ“Š ×“×•×’××” ×××™×ª×™×ª: ×—×œ×‘ ×ª× ×•×‘×”</h2>

            <div class="example-box">
                <h4>ğŸ‘‘ Master Product: tnuva-milk-3pct-1l</h4>
                <div class="code-block" style="font-size: 12px;">{
                    "master_id": "tnuva-milk-3pct-1l",
                    "name": "Tnuva Milk 3% Fat 1L",
                    "global_ean": "7290000000001",
                    "brand": "Tnuva",
                    "category": "Food & Beverages > Dairy > Milk > Fresh Milk",
                    "attributes": {
                    "fat_content": "3%",
                    "volume": "1L",
                    "type": "fresh",
                    "kosher": true
                    }
                    }</div>
            </div>

            <h3 style="margin: 25px 0 15px;">ğŸŒ ×•×¨×™×× ×˜×™× ××–×•×¨×™×™×:</h3>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px;">
                <div class="product-card">
                    <div class="name">ğŸ‡®ğŸ‡± ×™×©×¨××œ</div>
                    <div class="details">
                        <strong>×©×:</strong> ×—×œ×‘ ×ª× ×•×‘×” 3% 1 ×œ×™×˜×¨<br>
                        <strong>××—×™×¨:</strong> â‚ª5.90<br>
                        <strong>×—× ×•×™×•×ª:</strong> 150<br>
                        <strong>××—×™×¨×™×:</strong> 1,500
                    </div>
                </div>

                <div class="product-card">
                    <div class="name">ğŸ‡ºğŸ‡¸ ××¨×”"×‘</div>
                    <div class="details">
                        <strong>×©×:</strong> Tnuva Milk 3% Fat 1L<br>
                        <strong>××—×™×¨:</strong> $2.99<br>
                        <strong>×—× ×•×™×•×ª:</strong> 80<br>
                        <strong>××—×™×¨×™×:</strong> 800
                    </div>
                </div>

                <div class="product-card">
                    <div class="name">ğŸ‡ªğŸ‡º ××™×¨×•×¤×”</div>
                    <div class="details">
                        <strong>×©×:</strong> Lait Tnuva 3% MG 1L<br>
                        <strong>××—×™×¨:</strong> â‚¬2.49<br>
                        <strong>×—× ×•×™×•×ª:</strong> 60<br>
                        <strong>××—×™×¨×™×:</strong> 600
                    </div>
                </div>

                <div class="product-card">
                    <div class="name">ğŸŒ ××¡×™×”</div>
                    <div class="details">
                        <strong>×©×:</strong> Tnuva ãƒŸãƒ«ã‚¯ 3% 1L<br>
                        <strong>××—×™×¨:</strong> Â¥450<br>
                        <strong>×—× ×•×™×•×ª:</strong> 40<br>
                        <strong>××—×™×¨×™×:</strong> 400
                    </div>
                </div>
            </div>

            <div class="highlight-box" style="margin-top: 25px;">
                <h3>ğŸ“ˆ ×ª×•×¦××”: ×”×©×•×•××” ×’×œ×•×‘×œ×™×ª!</h3>
                <div style="font-size: 18px; line-height: 2;">
                    <strong>×¡×”"×›:</strong> 330 ×—× ×•×™×•×ª, 3,300 ××—×™×¨×™×<br>
                    <strong>×˜×•×•×— ××—×™×¨×™× (USD):</strong> $1.62 - $3.99<br>
                    <strong>×××•×¦×¢ ×’×œ×•×‘×œ×™:</strong> $2.52<br>
                    <strong>×”×—× ×•×ª ×”×–×•×œ×” ×‘×™×•×ª×¨:</strong> ğŸ‡®ğŸ‡± ×¨××™ ×œ×•×™, ×ª×œ ××‘×™×‘ ($1.62)
                </div>
            </div>
        </div>

        <!-- Benefits -->
        <div class="section">
            <h2>ğŸ ×”×™×ª×¨×•× ×•×ª ×©×œ ××‘ ××•×¦×¨</h2>

            <div
                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                <div style="background: #d1fae5; padding: 20px; border-radius: 15px; border-right: 5px solid #10b981;">
                    <h3 style="color: #10b981; margin-bottom: 15px;">ğŸŒ ×”×©×•×•××” ×’×œ×•×‘×œ×™×ª</h3>
                    <p>××—×™×¨ ××•×ª×• ××•×¦×¨ ×‘×›×œ ×”×¢×•×œ× ×‘××§×•× ××—×“</p>
                </div>

                <div style="background: #dbeafe; padding: 20px; border-radius: 15px; border-right: 5px solid #3b82f6;">
                    <h3 style="color: #3b82f6; margin-bottom: 15px;">ğŸ“Š × ×™×ª×•×— ×˜×¨× ×“×™×</h3>
                    <p>××¢×§×‘ ××—×¨ ×©×™× ×•×™×™ ××—×™×¨×™× ×œ××•×¨×š ×–××Ÿ</p>
                </div>

                <div style="background: #fef3c7; padding: 20px; border-radius: 15px; border-right: 5px solid #f59e0b;">
                    <h3 style="color: #f59e0b; margin-bottom: 15px;">ğŸ¯ ×”××œ×¦×•×ª ×—×›××•×ª</h3>
                    <p>AI ×™×›×•×œ ×œ×”××œ×™×¥ ×¢×œ ×ª×—×œ×™×¤×™× ×–×•×œ×™× ×™×•×ª×¨</p>
                </div>

                <div style="background: #fce7f3; padding: 20px; border-radius: 15px; border-right: 5px solid #ec4899;">
                    <h3 style="color: #ec4899; margin-bottom: 15px;">ğŸ“ˆ ×ª×•×‘× ×•×ª ×¢×¡×§×™×•×ª</h3>
                    <p>× ×™×ª×•×— ×ª×—×¨×•×ª, ××—×™×¨×™×, ×•××’××•×ª ×©×•×§</p>
                </div>
            </div>
        </div>

        <!-- Summary -->
        <div class="hero-section">
            <h2>âœ… ×¡×™×›×•×: ×œ××” ×–×” ×”×¤×˜× ×˜</h2>
            <div style="font-size: 20px; line-height: 2; margin-top: 20px;">
                1ï¸âƒ£ <strong>×™×™×—×•×“×™×•×ª:</strong> ×©×™×œ×•×‘ ×©×œ 3 ××¡×˜×¨×˜×’×™×•×ª (Barcode + AI + LLM)<br>
                2ï¸âƒ£ <strong>×“×™×•×§:</strong> 95%+ success rate ×‘×§×™×©×•×¨ ××•×¦×¨×™×<br>
                3ï¸âƒ£ <strong>××”×™×¨×•×ª:</strong> 70% ××”××§×¨×™× ×‘-10ms ×‘×œ×‘×“<br>
                4ï¸âƒ£ <strong>×’×œ×•×‘×œ×™×•×ª:</strong> ×¢×•×‘×“ ×‘×›×œ ×©×¤×” ×•××“×™× ×”<br>
                5ï¸âƒ£ <strong>×¢×¨×š:</strong> <span style="color: #7c3aed; font-size: 28px;">×‘×œ×™ ×–×” ××™×Ÿ ××¢×¨×›×ª!</span>
            </div>

            <div
                style="background: white; padding: 25px; border-radius: 15px; margin-top: 30px; border: 3px solid #7c3aed;">
                <h3 style="color: #7c3aed; margin-bottom: 15px; font-size: 24px;">ğŸ† ×–×” ××” ×©××‘×“×œ ××•×ª× ×•!</h3>
                <p style="font-size: 18px; color: #333;">
                    ×¨×•×‘ ××¢×¨×›×•×ª ×”×©×•×•××ª ××—×™×¨×™× ×¢×•×‘×“×•×ª ×¨×§ ×‘××“×™× ×” ××—×ª.<br>
                    <strong>×× ×—× ×• ×”×™×—×™×“×™× ×©×™×›×•×œ×™× ×œ×”×©×•×•×ª ×’×œ×•×‘×œ×™×ª!</strong>
                </p>
            </div>
        </div>
    </div>
</body>

</html>